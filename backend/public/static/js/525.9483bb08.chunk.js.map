{"version":3,"file":"static/js/525.9483bb08.chunk.js","mappings":"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","sources":["webpack://frontend/./src/pictures/components/PictureCard.module.css?4c33","pictures/components/PictureCard.js","webpack://frontend/./src/pictures/components/UserAvatar.module.css?d4d2","pictures/components/UserAvatar.js","pictures/pages/UserPictures.js","webpack://frontend/./src/shared/components/UIElements/Wrapper.module.css?08b1","shared/components/UIElements/Wrapper.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"img\":\"PictureCard_img__ab-nx\",\"img_avatar\":\"PictureCard_img_avatar__okL9j\",\"row\":\"PictureCard_row__oHEH3\",\"edit_delete\":\"PictureCard_edit_delete__9725u\"};","import React, {useContext} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { AuthContext } from \"../../shared/context/auth-context.js\";\r\nimport Wrapper from \"../../shared/components/UIElements/Wrapper.js\";\r\nimport classes from \"./PictureCard.module.css\";\r\n\r\nconst PictureCard = ({ picture, pictureDeleteHandler }) => {\r\n\r\n  const logCtx = useContext(AuthContext);\r\n  \r\n\r\n  return (\r\n    <Wrapper>\r\n      <img\r\n        className={classes.img}\r\n        src={`${process.env.REACT_APP_ASSET_URL + picture.image_url}`}\r\n        alt={picture.description}\r\n      />\r\n      <div className={classes.row}>\r\n        <h3>{picture.title}</h3>\r\n\r\n        {\"creator_id\" in picture && (\r\n          <Link to={`/${picture.creator_id._id}/pictures`}>\r\n            <img\r\n              className={classes.img_avatar}\r\n              src={\r\n                process.env.REACT_APP_ASSET_URL + picture.creator_id.image_url\r\n              }\r\n              alt={picture.creator_id.name}\r\n            />\r\n            {picture.creator_id.name}\r\n          </Link>\r\n        )}\r\n      </div>\r\n      <p>{picture.description}</p>\r\n      <h6>\r\n        <i className=\"bi bi-geo-alt-fill\"></i> {picture.address}\r\n      </h6>\r\n      {logCtx.isLoggedIn &&  (logCtx.userId === picture.creator_id._id ) && <div className={classes.edit_delete}>\r\n        <Link to={`/pictures/update/${picture._id}`}>\r\n          <button type=\"button\" className=\"btn btn-success mx-4\">\r\n            Editing\r\n          </button>\r\n        </Link>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-danger\"\r\n          onClick={pictureDeleteHandler.bind(this, picture._id)}\r\n        >\r\n          Delete\r\n        </button>\r\n      </div>}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default PictureCard;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"avatar__img\":\"UserAvatar_avatar__img__5wn2E\"};","import React from \"react\";\r\nimport Wrapper from \"../../shared/components/UIElements/Wrapper\";\r\n\r\nimport classes from \"./UserAvatar.module.css\";\r\n\r\nconst UserAvatar = ({ name, email, image_url }) => {\r\n  return (\r\n    <Wrapper>\r\n      <img\r\n        className={classes.avatar__img}\r\n        src={process.env.REACT_APP_ASSET_URL + image_url}\r\n        alt={name}\r\n      />\r\n      <h4>{name}</h4>\r\n      <h6>{email}</h6>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default UserAvatar;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { AuthContext } from \"../../shared/context/auth-context.js\";\r\nimport PictureCard from \"../components/PictureCard.js\";\r\nimport UserAvatar from \"../components/UserAvatar\";\r\nimport classes from \"./UserPictures.module.css\";\r\n\r\nconst UserPictures = () => {\r\n  //-----------------------------------------------------------------------------------------------------------------------------hooks-part\r\n  const logCtx = useContext(AuthContext);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [userPictures, setUserPictures] = useState({});\r\n  const [error, setError] = useState(false);\r\n  const userId = useParams().userId;\r\n  //-----------------------------------------------------------------------------------------------------------------------------fetching-data\r\n  useEffect(() => {\r\n    const fetchPictures = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}users/${userId}`\r\n        );\r\n        if (!response.ok) {\r\n          setError(true);\r\n          setIsLoading(false);\r\n        }\r\n        const data = await response.json();\r\n\r\n        if (response.ok && data.userPictures !== null) {\r\n          let picturesArray = data.userPictures.pictures_ids.map((pic) => ({\r\n            ...pic,\r\n            creator_id: {\r\n              _id: data.userPictures._id,\r\n              email: data.userPictures.email,\r\n              name: data.userPictures.name,\r\n              image_url: data.userPictures.image_url,\r\n            },\r\n          }));\r\n          let creator = {\r\n            _id: data.userPictures._id,\r\n            email: data.userPictures.email,\r\n            name: data.userPictures.name,\r\n            image_url: data.userPictures.image_url,\r\n          };\r\n          setUserPictures({ pictures: picturesArray, creator });\r\n          setIsLoading(false);\r\n        }\r\n      } catch (error) {\r\n        setError(true);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchPictures();\r\n  }, [userId]);\r\n  //-----------------------------------------------------------------------------------------------------------------------------pictureDeleteHandler\r\n  const pictureDeleteHandler = async (id) => {\r\n    try {\r\n      const response = await fetch(\r\n        `${process.env.REACT_APP_BACKEND_URL}pictures/${id}`,\r\n        {\r\n          method: \"DELETE\",\r\n          body: {},\r\n          headers: { Authorization: `Bearer ${logCtx.token}` },\r\n        }\r\n      );\r\n      if (response.ok) {\r\n        //if the response is ok we should filter out the deleted pic from the array\r\n        setUserPictures((oldUserPictures) => ({\r\n          ...oldUserPictures,\r\n          pictures: oldUserPictures.pictures.filter((pic) => pic._id !== id),\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      setError(true);\r\n      setTimeout(() => {\r\n        setError(false);\r\n      }, 1000);\r\n    }\r\n  };\r\n  //-----------------------------------------------------------------------------------------------------------------------------return(JSX)\r\n  return error ? (\r\n    <div className=\"alert alert-danger\" role=\"alert\">\r\n      <i className=\"bi bi-exclamation-octagon-fill m-1\"></i>\r\n      There is no response backed from the server\r\n    </div>\r\n  ) : isLoading ? (\r\n    <div\r\n      className=\"spinner-border\"\r\n      style={{ width: \"3rem\", height: \"3rem\", margin: \"0 48vw\" }}\r\n      role=\"status\"\r\n    >\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  ) :  userPictures.pictures.length === 0 ? (\r\n    <>\r\n      <UserAvatar\r\n        name={userPictures.creator.name}\r\n        email={userPictures.creator.email}\r\n        image_url={userPictures.creator.image_url}\r\n      />\r\n\r\n      <div className=\"alert alert-warning\" role=\"alert\">\r\n        No Picture Founded!\r\n      </div>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <UserAvatar\r\n        name={userPictures.creator.name}\r\n        email={userPictures.creator.email}\r\n        image_url={userPictures.creator.image_url}\r\n      />\r\n      {userPictures.pictures.map((picture) => (\r\n        <PictureCard\r\n          key={picture._id}\r\n          picture={picture}\r\n          pictureDeleteHandler={pictureDeleteHandler}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserPictures;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Wrapper_wrapper__eIb1h\"};","import React from 'react';\r\n\r\nimport classes from \"./Wrapper.module.css\";\r\n\r\n\r\nconst Wrapper = (props) => {\r\n  return (\r\n    <div className={classes.wrapper}>{props.children}</div>\r\n  );\r\n}\r\n\r\nexport default Wrapper;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["picture","pictureDeleteHandler","logCtx","useContext","AuthContext","Wrapper","className","classes","src","process","image_url","alt","description","title","to","creator_id","_id","name","address","isLoggedIn","userId","type","onClick","bind","email","useState","isLoading","setIsLoading","userPictures","setUserPictures","error","setError","useParams","useEffect","fetchPictures","fetch","response","ok","json","data","picturesArray","pictures_ids","map","pic","creator","pictures","id","method","body","headers","Authorization","token","oldUserPictures","filter","setTimeout","role","style","width","height","margin","length","PictureCard","props","children","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}