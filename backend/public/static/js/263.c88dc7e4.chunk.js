"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[263],{186:function(e,n,r){r.d(n,{Z:function(){return i}});var t=r(791),s="Input_main_input__392n6",a=r(184),i=t.forwardRef((function(e,n){return(0,a.jsxs)("div",{className:"mb-3 ".concat(s),children:[(0,a.jsx)("label",{htmlFor:e.name,className:"form-label",children:e.label}),(0,a.jsx)("input",{onBlur:e.onBlur,onChange:e.onChange,ref:n,type:e.type,className:"form-control ".concat(e.cssClasses),id:e.name,defaultValue:e.defaultValue,placeholder:e.placeholder,accept:e.accept})]})}))},830:function(e,n,r){r.d(n,{Z:function(){return a}});r(791);var t="Wrapper_wrapper__eIb1h",s=r(184),a=function(e){return(0,s.jsx)("div",{className:t,children:e.children})}},263:function(e,n,r){r.r(n),r.d(n,{default:function(){return h}});var t=r(861),s=r(683),a=r(152),i=r(757),l=r.n(i),o=r(791),c=r(504),u=r(871),p=r(830),d=r(186),f=r(108),b="Login_login__lW3vB",m=r(184),h=function(){var e=(0,o.useContext)(f.V),n=(0,o.useRef)(""),r=(0,o.useRef)(""),i=(0,u.s0)(),h=(0,o.useState)(!1),g=(0,a.Z)(h,2),v=g[0],j=g[1],w=(0,o.useState)({emailCssClasses:"",passwordCssClasses:"",wrongInputsAlertVisibility:!1,wrongInputsAlertMessage:""}),y=(0,a.Z)(w,2),x=y[0],C=y[1],O=function(e){j(!1),C((function(n){return(0,s.Z)((0,s.Z)({},n),{},{wrongInputsAlertVisibility:!0,wrongInputsAlertMessage:e})})),setTimeout((function(){C((function(e){return(0,s.Z)((0,s.Z)({},e),{},{wrongInputsAlertVisibility:!1})}))}),5e3)},Z=function(){var s=(0,t.Z)(l().mark((function t(){var s,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j(!0),t.prev=1,!(n.current.value.trim().includes("@")&&r.current.value.length>=6)){t.next=13;break}return t.next=5,fetch("".concat("http://localhost:4000/api/","users/login"),{method:"POST",body:JSON.stringify({email:n.current.value,password:r.current.value}),headers:{"Content-Type":"application/json"}});case 5:return s=t.sent,t.next=8,s.json();case 8:a=t.sent,j(!1),s.ok?(e.login(a.userId,a.userToken,a.expirationTime),i("/")):(O(a.message),console.log(s.ok)),t.next=14;break;case 13:O("Please Enter a Valid Credentials");case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),O("Failed to fetch");case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(){return s.apply(this,arguments)}}();return(0,m.jsxs)(p.Z,{children:[x.wrongInputsAlertVisibility&&(0,m.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,m.jsx)("i",{className:"bi bi-exclamation-octagon-fill m-1"}),x.wrongInputsAlertMessage]}),(0,m.jsx)(d.Z,{ref:n,type:"email",name:"email",placeholder:"your email...",label:"User Email : ",cssClasses:x.emailCssClasses,onBlur:function(){C((function(e){return(0,s.Z)((0,s.Z)({},e),{},{emailCssClasses:n.current.value.trim().includes("@")?"is-valid":"is-invalid"})}))}}),(0,m.jsx)(d.Z,{ref:r,type:"password",name:"password",placeholder:"your password...",label:"User Password : ",cssClasses:x.passwordCssClasses,onBlur:function(){C((function(e){return(0,s.Z)((0,s.Z)({},e),{},{passwordCssClasses:r.current.value.length>=6?"is-valid":"is-invalid"})}))}}),(0,m.jsxs)("div",{className:b,children:[(0,m.jsx)("button",{className:"btn btn-info",onClick:Z,disabled:v,children:v?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Loading..."," "]}):"login"}),(0,m.jsxs)("p",{children:["Don't have an account? ",(0,m.jsx)(c.rU,{to:"/signup",children:"Sign Up"})]})]})]})}},683:function(e,n,r){function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function s(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}r.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=263.c88dc7e4.chunk.js.map