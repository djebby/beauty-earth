{"version":3,"file":"static/js/896.97e81efd.chunk.js","mappings":"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","sources":["webpack://frontend/./src/shared/components/UIElements/Input.module.css?b647","shared/components/UIElements/Input.js","webpack://frontend/./src/shared/components/UIElements/Wrapper.module.css?08b1","shared/components/UIElements/Wrapper.js","webpack://frontend/./src/users/pages/SignUp.module.css?5b24","users/pages/SignUp.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"main_input\":\"Input_main_input__392n6\"};","import React from \"react\";\r\nimport classes from \"./Input.module.css\";\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n  return (\r\n    <div className={`mb-3 ${classes.main_input}`}>\r\n      <label htmlFor={props.name} className=\"form-label\">\r\n        {props.label}\r\n      </label>\r\n      <input\r\n        onBlur={props.onBlur}\r\n        onChange={props.onChange}\r\n        ref={ref}\r\n        type={props.type}\r\n        className= {`form-control ${props.cssClasses}`}\r\n        id={props.name}\r\n        defaultValue={props.defaultValue}\r\n        placeholder={props.placeholder}\r\n        accept={props.accept}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Input;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Wrapper_wrapper__eIb1h\"};","import React from 'react';\r\n\r\nimport classes from \"./Wrapper.module.css\";\r\n\r\n\r\nconst Wrapper = (props) => {\r\n  return (\r\n    <div className={classes.wrapper}>{props.children}</div>\r\n  );\r\n}\r\n\r\nexport default Wrapper;","// extracted by mini-css-extract-plugin\nexport default {\"signup\":\"SignUp_signup__wRO9+\"};","import React, { useRef, useState, useContext } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport Wrapper from \"../../shared/components/UIElements/Wrapper\";\r\nimport Input from \"../../shared/components/UIElements/Input\";\r\n\r\n\r\nimport classes from \"./SignUp.module.css\";\r\n\r\nconst SignUp = () => {\r\n  //-----------------------------------------------------------------------------------------------------------------------------hooks-part\r\n  const logCtx = useContext(AuthContext); console.log(logCtx);\r\n  const refName = useRef(\"\");\r\n  const refEmail = useRef(\"\");\r\n  const refPassword = useRef(\"\");\r\n  const refImage = useRef();\r\n  const navigate = useNavigate();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [inputValidation, setInputValidation] = useState({\r\n    nameCssClasses: \"\",\r\n    emailCssClasses: \"\",\r\n    passwordCssClasses: \"\",\r\n    imageCssClasses: \"\",\r\n    wrongInputsAlertVisibility: false,\r\n    wrongInputsAlertMessage: \"\",\r\n  });\r\n  //-----------------------------------------------------------------------------------------------------------------------------errorHandler\r\n  const errorHandler = (errorMessage) => {\r\n    setIsLoading(false);\r\n    setInputValidation((prevInputValidation) => ({\r\n      ...prevInputValidation,\r\n      wrongInputsAlertVisibility: true,\r\n      wrongInputsAlertMessage: errorMessage,\r\n    }));\r\n    setTimeout(() => {\r\n      setInputValidation((prevInputValidation) => ({\r\n        ...prevInputValidation,\r\n        wrongInputsAlertVisibility: false,\r\n      }));\r\n    }, 5000);\r\n  };\r\n  //-----------------------------------------------------------------------------------------------------------------------------onSubmitHandler\r\n  const onSubmitHandler = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      if (\r\n        refName.current.value.trim().length >= 6 &&\r\n        refEmail.current.value.trim().includes(\"@\") &&\r\n        refPassword.current.value.length >= 6 &&\r\n        refImage.current.files[0] !== undefined\r\n      ) {\r\n        const formData = new FormData();\r\n        formData.append(\"name\", refName.current.value);\r\n        formData.append(\"email\", refEmail.current.value);\r\n        formData.append(\"password\", refPassword.current.value);\r\n        formData.append(\"image\", refImage.current.files[0]);\r\n        const response = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}users/signup`,\r\n          {\r\n            method: \"POST\",\r\n            body: formData,\r\n            headers: {},\r\n          }\r\n        );\r\n        const data = await response.json();\r\n        setIsLoading(false);\r\n        if (response.ok) {\r\n          // if the user signup successfully we should store the userId (data.userId) & the userToken (data.userToken) in the Context  \r\n          logCtx.login(data.userId, data.userToken, data.expirationTime);\r\n          // we should redirect programmatically to the home page...\r\n          navigate(\"/\");\r\n        } else {\r\n          //error from backend validation...\r\n          errorHandler(data.message);\r\n          console.log(data); // failed to signup the user try again...\r\n        }\r\n      } else {\r\n        //error from frontend validation...\r\n        errorHandler(\"Please Enter a Valid Inputs Value\");\r\n      }\r\n    } catch (error) {\r\n      errorHandler(\"Failed to fetch\");\r\n      console.log(error);\r\n    }\r\n  };\r\n  //-----------------------------------------------------------------------------------------------------------------------------return(JSX)\r\n  return (\r\n    <Wrapper>\r\n      {inputValidation.wrongInputsAlertVisibility && (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          <i className=\"bi bi-exclamation-octagon-fill m-1\"></i>\r\n          {inputValidation.wrongInputsAlertMessage}\r\n        </div>\r\n      )}\r\n      <Input\r\n        ref={refName}\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"your name...\"\r\n        label=\"User Name : \"\r\n        cssClasses={inputValidation.nameCssClasses}\r\n        onBlur={() => {\r\n          setInputValidation((prevCssClasses) => ({\r\n            ...prevCssClasses,\r\n            nameCssClasses:\r\n              refName.current.value.trim().length >= 6 ? \"is-valid\" : \"is-invalid\",\r\n          }));\r\n        }}\r\n      />\r\n      <Input\r\n        ref={refEmail}\r\n        type=\"email\"\r\n        name=\"email\"\r\n        placeholder=\"your email...\"\r\n        label=\"User Email : \"\r\n        cssClasses={inputValidation.emailCssClasses}\r\n        onBlur={() => {\r\n          setInputValidation((prevCssClasses) => ({\r\n            ...prevCssClasses,\r\n            emailCssClasses: refEmail.current.value.trim().includes(\"@\")\r\n              ? \"is-valid\"\r\n              : \"is-invalid\",\r\n          }));\r\n        }}\r\n      />\r\n      <Input\r\n        ref={refPassword}\r\n        type=\"password\"\r\n        name=\"password\"\r\n        placeholder=\"your password...\"\r\n        label=\"User Password : \"\r\n        cssClasses={inputValidation.passwordCssClasses}\r\n        onBlur={() => {\r\n          setInputValidation((prevCssClasses) => ({\r\n            ...prevCssClasses,\r\n            passwordCssClasses:\r\n              refPassword.current.value.trim().length >= 6 ? \"is-valid\" : \"is-invalid\",\r\n          }));\r\n        }}\r\n      />\r\n      <Input\r\n        ref={refImage}\r\n        type=\"file\"\r\n        name=\"image\"\r\n        accept=\".jpg,.png,.jpeg\"\r\n        label=\"User Picture : \"\r\n        cssClasses={inputValidation.imageCssClasses}\r\n        onChange={() => {\r\n          setInputValidation((prevCssClasses) => ({\r\n            ...prevCssClasses,\r\n            imageCssClasses:\r\n              refImage.current.files[0] === undefined\r\n                ? \"is-invalid\"\r\n                : \"is-valid\",\r\n          }));\r\n        }}\r\n      />\r\n      <div className={classes.signup}>\r\n        <button\r\n          className=\"btn btn-info\"\r\n          onClick={onSubmitHandler}\r\n          disabled={isLoading}\r\n        >\r\n          {isLoading ? (\r\n              <>\r\n                <span\r\n                  className=\"spinner-border spinner-border-sm\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                ></span>\r\n                Loading...{\" \"}\r\n              </>\r\n          ) : \"signup\"}\r\n        </button>\r\n        <p>\r\n          You have an account? <Link to=\"/login\">Sign In</Link>\r\n        </p>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default SignUp;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["React","props","ref","className","classes","htmlFor","name","label","onBlur","onChange","type","cssClasses","id","defaultValue","placeholder","accept","children","logCtx","useContext","AuthContext","console","log","refName","useRef","refEmail","refPassword","refImage","navigate","useNavigate","useState","isLoading","setIsLoading","nameCssClasses","emailCssClasses","passwordCssClasses","imageCssClasses","wrongInputsAlertVisibility","wrongInputsAlertMessage","inputValidation","setInputValidation","errorHandler","errorMessage","prevInputValidation","setTimeout","onSubmitHandler","current","value","trim","length","includes","undefined","files","formData","FormData","append","fetch","process","method","body","headers","response","json","data","ok","login","userId","userToken","expirationTime","message","Wrapper","role","Input","prevCssClasses","onClick","disabled","to","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}