"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[916],{855:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(791),c=r(504),a=r(108),i=r(830),s="PictureCard_img__ab-nx",u="PictureCard_img_avatar__okL9j",o="PictureCard_row__oHEH3",l="PictureCard_edit_delete__9725u",d=r(184),h=function(e){var t=e.picture,r=e.pictureDeleteHandler,h=(0,n.useContext)(a.V);return(0,d.jsxs)(i.Z,{children:[(0,d.jsx)("img",{className:s,src:"".concat("http://localhost:4000/"+t.image_url),alt:t.description}),(0,d.jsxs)("div",{className:o,children:[(0,d.jsx)("h3",{children:t.title}),"creator_id"in t&&(0,d.jsxs)(c.rU,{to:"/".concat(t.creator_id._id,"/pictures"),children:[(0,d.jsx)("img",{className:u,src:"http://localhost:4000/"+t.creator_id.image_url,alt:t.creator_id.name}),t.creator_id.name]})]}),(0,d.jsx)("p",{children:t.description}),(0,d.jsxs)("h6",{children:[(0,d.jsx)("i",{className:"bi bi-geo-alt-fill"})," ",t.address]}),h.isLoggedIn&&h.userId===t.creator_id._id&&(0,d.jsxs)("div",{className:l,children:[(0,d.jsx)(c.rU,{to:"/pictures/update/".concat(t._id),children:(0,d.jsx)("button",{type:"button",className:"btn btn-success mx-4",children:"Editing"})}),(0,d.jsx)("button",{type:"button",className:"btn btn-danger",onClick:r.bind(undefined,t._id),children:"Delete"})]})]})}},916:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(861),c=r(152),a=r(757),i=r.n(a),s=r(791),u=r(108),o=r(855),l="Pictures_load_btn__vAc26",d=r(184),h=function(){var e=(0,s.useContext)(u.V),t=(0,s.useState)(!0),r=(0,c.Z)(t,2),a=r[0],h=r[1],p=(0,s.useState)([]),f=(0,c.Z)(p,2),m=f[0],_=f[1],x=(0,s.useState)(0),b=(0,c.Z)(x,2),v=b[0],j=b[1],g=(0,s.useState)(1),k=(0,c.Z)(g,2),N=k[0],w=k[1],C=(0,s.useState)(!1),Z=(0,c.Z)(C,2),y=Z[0],E=Z[1];(0,s.useEffect)((function(){var e=function(){var e=(0,n.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://localhost:4000/api/","pictures/?picBucketNum=").concat(N));case 3:return(t=e.sent).ok||(h(!1),E(!0)),e.next=7,t.json();case 7:r=e.sent,t.ok&&null!==r.pictures&&(_(r.pictures),j(r.picturesCount),h(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),h(!1),E(!0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[N]);var P=function(){var t=(0,n.Z)(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("http://localhost:4000/api/","pictures/").concat(r),{method:"DELETE",body:{},headers:{Authorization:"Bearer ".concat(e.token)}});case 3:t.sent.ok&&_((function(e){return e.filter((function(e){return e._id!==r}))})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),E(!0),setTimeout((function(){E(!1)}),1e3);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return y?(0,d.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,d.jsx)("i",{className:"bi bi-exclamation-octagon-fill m-1"}),"There is no response backed from the server"]}):a?(0,d.jsx)("div",{className:"spinner-border",style:{width:"3rem",height:"3rem",margin:"0 48vw"},role:"status",children:(0,d.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):0===m.length?(0,d.jsx)("div",{className:"alert alert-warning",role:"alert",children:"No Picture Founded!"}):(0,d.jsxs)(d.Fragment,{children:[m.map((function(e){return(0,d.jsx)(o.Z,{picture:e,pictureDeleteHandler:P},e._id)})),(0,d.jsx)("button",{className:"btn btn-dark "+l,onClick:function(){w((function(e){return e+1}))},disabled:10*N>v,children:"more pictures"})]})}},830:function(e,t,r){r.d(t,{Z:function(){return a}});r(791);var n="Wrapper_wrapper__eIb1h",c=r(184),a=function(e){return(0,c.jsx)("div",{className:n,children:e.children})}}}]);
//# sourceMappingURL=916.35d7632f.chunk.js.map