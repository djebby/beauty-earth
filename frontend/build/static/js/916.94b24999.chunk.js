"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[916],{855:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(791),a=r(504),c=r(108),i=r(830),s="PictureCard_img__ab-nx",u="PictureCard_img_avatar__okL9j",o="PictureCard_row__oHEH3",d="PictureCard_edit_delete__9725u",l=r(184),p=function(e){var t=e.picture,r=e.pictureDeleteHandler,p=(0,n.useContext)(c.V);return(0,l.jsxs)(i.Z,{children:[(0,l.jsx)("img",{className:s,src:t.image_url,alt:t.description}),(0,l.jsxs)("div",{className:o,children:[(0,l.jsx)("h3",{children:t.title}),"creator_id"in t&&(0,l.jsxs)(a.rU,{to:"/".concat(t.creator_id._id,"/pictures"),children:[(0,l.jsx)("img",{className:u,src:t.creator_id.image_url,alt:t.creator_id.name}),t.creator_id.name]})]}),(0,l.jsx)("p",{children:t.description}),(0,l.jsxs)("h6",{children:[(0,l.jsx)("i",{className:"bi bi-geo-alt-fill"})," ",t.address]}),p.isLoggedIn&&p.userId===t.creator_id._id&&(0,l.jsxs)("div",{className:d,children:[(0,l.jsx)(a.rU,{to:"/pictures/update/".concat(t._id),children:(0,l.jsx)("button",{type:"button",className:"btn btn-success mx-4",children:"Editing"})}),(0,l.jsx)("button",{type:"button",className:"btn btn-danger",onClick:r.bind(undefined,t._id),children:"Delete"})]})]})}},916:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var n=r(861),a=r(152),c=r(757),i=r.n(c),s=r(791),u=r(108),o=r(855),d="Pictures_load_btn__vAc26",l=r(184),p=function(){var e=(0,s.useContext)(u.V),t=(0,s.useState)(!0),r=(0,a.Z)(t,2),c=r[0],p=r[1],h=(0,s.useState)([]),f=(0,a.Z)(h,2),m=f[0],_=f[1],x=(0,s.useState)(0),b=(0,a.Z)(x,2),v=b[0],j=b[1],k=(0,s.useState)(1),g=(0,a.Z)(k,2),N=g[0],w=g[1],C=(0,s.useState)(!1),Z=(0,a.Z)(C,2),y=Z[0],E=Z[1];(0,s.useEffect)((function(){var e=function(){var e=(0,n.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://beautiy-earth.herokuapp.com/api/","pictures/?picBucketNum=").concat(N));case 3:return(t=e.sent).ok||(p(!1),E(!0)),e.next=7,t.json();case 7:r=e.sent,t.ok&&null!==r.pictures&&(_(r.pictures),j(r.picturesCount),p(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),p(!1),E(!0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[N]);var P=function(){var t=(0,n.Z)(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("https://beautiy-earth.herokuapp.com/api/","pictures/").concat(r),{method:"DELETE",body:{},headers:{Authorization:"Bearer ".concat(e.token)}});case 3:t.sent.ok&&_((function(e){return e.filter((function(e){return e._id!==r}))})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),E(!0),setTimeout((function(){E(!1)}),1e3);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return y?(0,l.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,l.jsx)("i",{className:"bi bi-exclamation-octagon-fill m-1"}),"There is no response backed from the server"]}):c?(0,l.jsx)("div",{className:"spinner-border",style:{width:"3rem",height:"3rem",margin:"0 48vw"},role:"status",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):0===m.length?(0,l.jsx)("div",{className:"alert alert-warning",role:"alert",children:"No Picture Founded!"}):(0,l.jsxs)(l.Fragment,{children:[m.map((function(e){return(0,l.jsx)(o.Z,{picture:e,pictureDeleteHandler:P},e._id)})),(0,l.jsx)("button",{className:"btn btn-dark "+d,onClick:function(){w((function(e){return e+1}))},disabled:10*N>v,children:"more pictures"})]})}},830:function(e,t,r){r.d(t,{Z:function(){return c}});r(791);var n="Wrapper_wrapper__eIb1h",a=r(184),c=function(e){return(0,a.jsx)("div",{className:n,children:e.children})}}}]);
//# sourceMappingURL=916.94b24999.chunk.js.map