{"version":3,"file":"static/js/263.61d57d57.chunk.js","mappings":"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","sources":["webpack://frontend/./src/shared/components/UIElements/Input.module.css?b647","shared/components/UIElements/Input.js","webpack://frontend/./src/shared/components/UIElements/Wrapper.module.css?08b1","shared/components/UIElements/Wrapper.js","webpack://frontend/./src/users/pages/Login.module.css?c59a","users/pages/Login.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"main_input\":\"Input_main_input__392n6\"};","import React from \"react\";\r\nimport classes from \"./Input.module.css\";\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n  return (\r\n    <div className={`mb-3 ${classes.main_input}`}>\r\n      <label htmlFor={props.name} className=\"form-label\">\r\n        {props.label}\r\n      </label>\r\n      <input\r\n        onBlur={props.onBlur}\r\n        onChange={props.onChange}\r\n        ref={ref}\r\n        type={props.type}\r\n        className= {`form-control ${props.cssClasses}`}\r\n        id={props.name}\r\n        defaultValue={props.defaultValue}\r\n        placeholder={props.placeholder}\r\n        accept={props.accept}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Input;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Wrapper_wrapper__eIb1h\"};","import React from 'react';\r\n\r\nimport classes from \"./Wrapper.module.css\";\r\n\r\n\r\nconst Wrapper = (props) => {\r\n  return (\r\n    <div className={classes.wrapper}>{props.children}</div>\r\n  );\r\n}\r\n\r\nexport default Wrapper;","// extracted by mini-css-extract-plugin\nexport default {\"login\":\"Login_login__lW3vB\"};","import React, { useRef, useState, useContext } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport Wrapper from \"../../shared/components/UIElements/Wrapper.js\";\r\nimport Input from \"../../shared/components/UIElements/Input.js\";\r\nimport { AuthContext } from \"../../shared/context/auth-context.js\";\r\n\r\nimport classes from \"./Login.module.css\";\r\n\r\nconst Login = () => {\r\n  //-----------------------------------------------------------------------------------------------------------------------------hooks-part\r\n  const logCtx = useContext(AuthContext);\r\n  const refEmail = useRef(\"\");\r\n  const refPassword = useRef(\"\");\r\n  const navigate = useNavigate();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [inputValidation, setInputValidation] = useState({\r\n    emailCssClasses: \"\",\r\n    passwordCssClasses: \"\",\r\n    wrongInputsAlertVisibility: false,\r\n    wrongInputsAlertMessage: \"\",\r\n  });\r\n  //-----------------------------------------------------------------------------------------------------------------------------errorHandler\r\n  const errorHandler = (errorMessage) => {\r\n    setIsLoading(false);\r\n    setInputValidation((prevInputValidation) => ({\r\n      ...prevInputValidation,\r\n      wrongInputsAlertVisibility: true,\r\n      wrongInputsAlertMessage: errorMessage,\r\n    }));\r\n    setTimeout(() => {\r\n      setInputValidation((prevInputValidation) => ({\r\n        ...prevInputValidation,\r\n        wrongInputsAlertVisibility: false,\r\n      }));\r\n    }, 5000);\r\n  };\r\n  //-----------------------------------------------------------------------------------------------------------------------------onSubmitHandler\r\n  const onSubmitHandler = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      if (\r\n        refEmail.current.value.trim().includes(\"@\") &&\r\n        refPassword.current.value.length >= 6\r\n      ) {\r\n        const response = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}users/login`,\r\n          {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n              email: refEmail.current.value,\r\n              password: refPassword.current.value,\r\n            }),\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          }\r\n        );\r\n        const data = await response.json();\r\n        setIsLoading(false);\r\n        if (response.ok) {\r\n          // if the user login successfully we should store the userId (data.userId) & the userToken (data.userToken) in the Context\r\n          logCtx.login(data.userId, data.userToken, data.expirationTime);\r\n          // we should redirect programmatically to the home page...\r\n          navigate(\"/\");\r\n        } else {\r\n          // wrong credentials invalid email or password or server error...\r\n          errorHandler(data.message);\r\n          console.log(response.ok); // failed to signup the user try again...\r\n        }\r\n      } else {\r\n        errorHandler(\"Please Enter a Valid Credentials\");\r\n      }\r\n    } catch (error) {\r\n      errorHandler(\"Failed to fetch\");\r\n    }\r\n  };\r\n  //-----------------------------------------------------------------------------------------------------------------------------return(JSX)\r\n  return (\r\n    <Wrapper>\r\n      {inputValidation.wrongInputsAlertVisibility && (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          <i className=\"bi bi-exclamation-octagon-fill m-1\"></i>\r\n          {inputValidation.wrongInputsAlertMessage}\r\n        </div>\r\n      )}\r\n      <Input\r\n        ref={refEmail}\r\n        type=\"email\"\r\n        name=\"email\"\r\n        placeholder=\"your email...\"\r\n        label=\"User Email : \"\r\n        cssClasses={inputValidation.emailCssClasses}\r\n        onBlur={() => {\r\n          setInputValidation((prevCssClasses) => ({\r\n            ...prevCssClasses,\r\n            emailCssClasses: refEmail.current.value.trim().includes(\"@\")\r\n              ? \"is-valid\"\r\n              : \"is-invalid\",\r\n          }));\r\n        }}\r\n      />\r\n      <Input\r\n        ref={refPassword}\r\n        type=\"password\"\r\n        name=\"password\"\r\n        placeholder=\"your password...\"\r\n        label=\"User Password : \"\r\n        cssClasses={inputValidation.passwordCssClasses}\r\n        onBlur={() => {\r\n          setInputValidation((prevCssClasses) => ({\r\n            ...prevCssClasses,\r\n            passwordCssClasses:\r\n              refPassword.current.value.length >= 6 ? \"is-valid\" : \"is-invalid\",\r\n          }));\r\n        }}\r\n      />\r\n      <div className={classes.login}>\r\n        <button\r\n          className=\"btn btn-info\"\r\n          onClick={onSubmitHandler}\r\n          disabled={isLoading}\r\n        >\r\n          {isLoading ? (\r\n            <>\r\n              <span\r\n                className=\"spinner-border spinner-border-sm\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n              ></span>\r\n              Loading...{\" \"}\r\n            </>\r\n          ) : (\r\n            \"login\"\r\n          )}\r\n        </button>\r\n        <p>\r\n          Don't have an account? <Link to=\"/signup\">Sign Up</Link>\r\n        </p>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["React","props","ref","className","classes","htmlFor","name","label","onBlur","onChange","type","cssClasses","id","defaultValue","placeholder","accept","children","logCtx","useContext","AuthContext","refEmail","useRef","refPassword","navigate","useNavigate","useState","isLoading","setIsLoading","emailCssClasses","passwordCssClasses","wrongInputsAlertVisibility","wrongInputsAlertMessage","inputValidation","setInputValidation","errorHandler","errorMessage","prevInputValidation","setTimeout","onSubmitHandler","current","value","trim","includes","length","fetch","process","method","body","JSON","stringify","email","password","headers","response","json","data","ok","login","userId","userToken","expirationTime","message","console","log","Wrapper","role","Input","prevCssClasses","onClick","disabled","to","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}